/*! For license information please see 553.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[553],{8553:(t,a,e)=>{e.r(a),e.d(a,{default:()=>m});const o={name:"ModalPago",props:{modoPagos:[],imgDefault:"",imgDefault2:"/img/default.png",cuentas:[],pagos:null,cliente_id:null,recibos_caja:[],saldoRecibosCaja:0},data:function(){return{txtBtnVerRecibos:"VER RECIBOS",mostrarColImgPago:!0,mostrarColRecibosCliente:!1,mostrarRecibosCaja:!1,pagoForm:{cliente:"",condicion:"",convertir:null,correlativo:0,cotizacion_venta:null,dias:0,efectivo:"",empresa:"",empresa_id:1,estado:"",fecha_documento:"",id:0,notas:0,numero_doc:"",otros:"",serie:"",sunat:"0",tipo_pago:null,tipo_venta:"",tipo_venta_id:"",total:"",transferencia:"",importe:"",venta_id:"",monto_venta:"",tipo_pago_id:""},token:"",modo_pago:"",cuentaId:""}},computed:{ModoPagos:function(){return this.modo_pago.split("-")[1]},RouteStore:function(){return route("ventas.documento.storePago")},modoPagosFiltrados:function(){return 0===this.saldoRecibosCaja?(this.mostrarRecibosCaja=!1,this.mostrarColRecibosCliente=!1,this.mostrarColImgPago=!0,this.modoPagos.filter(function(t){return"RECIBO DE CAJA"!==t.descripcion})):this.modoPagos}},watch:{pagos:function(t){null!=t&&(this.pagoForm.cliente=t.cliente,this.pagoForm.numero_doc=t.numero_doc,this.pagoForm.efectivo="0.00",this.pagoForm.importe=t.total,this.pagoForm.venta_id=t.id,this.pagoForm.monto_venta=t.total,this.pagoForm.tipo_pago_id="",this.pagoForm.venta_id=t.id,this.modo_pago="1-EFECTIVO")},modo_pago:function(t){var a=t.split("-");this.pagoForm.tipo_pago_id=a[0]}},methods:{verRecibosCaja:function(){this.mostrarColImgPago=!this.mostrarColImgPago,this.mostrarColRecibosCliente=!this.mostrarColRecibosCliente,this.mostrarColRecibosCliente?this.txtBtnVerRecibos="OCULTAR RECIBOS":this.txtBtnVerRecibos="VER RECIBOS",console.log(this.recibos_caja)},Pagar:function(t){try{var a=isNaN(Number(this.pagoForm.importe))?0:Number(this.pagoForm.importe),e=isNaN(Number(this.pagoForm.efectivo))?0:Number(this.pagoForm.efectivo),o=parseFloat(this.pagoForm.monto_venta);if(0==a&&0==e)throw"Ingrese al menos un monto";if("TRANSFERENCIA"==this.ModoPagos&&""==this.cuentaId)throw"Seleccione una cuenta";if(a+e<o)throw"DEBE CUBRIR EL MONTO TOTAL DEL DOCUMENTO DE VENTA";return!0}catch(a){t.preventDefault(),toastr.error(a,"Error")}},changeModoPago:function(){try{"RECIBO DE CAJA"!==this.ModoPagos&&(this.mostrarRecibosCaja=!1,this.pagoForm.efectivo=0,this.pagoForm.importe=this.pagoForm.monto_venta,this.mostrarColRecibosCliente=!1,this.mostrarColImgPago=!0,this.txtBtnVerRecibos="VER RECIBOS"),"RECIBO DE CAJA"===this.ModoPagos&&(this.pagoForm.efectivo=0,this.mostrarRecibosCaja=!0,this.saldoRecibosCaja>=this.pagoForm.monto_venta?this.pagoForm.importe=this.pagoForm.monto_venta:(this.pagoForm.importe=this.saldoRecibosCaja,this.pagoForm.efectivo=parseFloat(this.pagoForm.monto_venta)-parseFloat(this.saldoRecibosCaja))),"EFECTIVO"==this.ModoPagos&&(this.pagoForm.efectivo="0.00",this.pagoForm.importe=this.pagoForm.monto_venta)}catch(t){}},changeEfectivo:function(t){try{var a=t.replace(/[^0-9.]/g,"");if(this.pagoForm.efectivo=a,a){if(parseFloat(a)>parseFloat(this.pagoForm.monto_venta)){var e=a.slice(0,-1);return void(this.pagoForm.efectivo=e)}var o=parseFloat(this.pagoForm.monto_venta),s=parseFloat(a);if("EFECTIVO"!==this.ModoPagos){var i=o-s;this.pagoForm.importe=parseFloat(i)}}else this.pagoForm.importe=this.pagoForm.monto_venta;"RECIBO DE CAJA"===this.ModoPagos&&parseFloat(this.pagoForm.importe)>parseFloat(this.saldoRecibosCaja)&&(this.pagoForm.importe=this.saldoRecibosCaja)}catch(t){alert(t)}},changeImporte:function(t){try{var a=t.replace(/[^0-9.]/g,"");if(this.pagoForm.importe=a,a){if(parseFloat(a)>parseFloat(this.pagoForm.monto_venta)){var e=a.slice(0,-1);return void(this.pagoForm.importe=e)}var o=parseFloat(this.pagoForm.monto_venta),s=parseFloat(a);if("EFECTIVO"!==this.ModoPagos){var i=o-s;this.pagoForm.efectivo=parseFloat(i)}}else this.pagoForm.efectivo=this.pagoForm.monto_venta;"RECIBO DE CAJA"===this.ModoPagos&&parseFloat(this.pagoForm.importe)>parseFloat(this.saldoRecibosCaja)&&(this.pagoForm.importe=this.saldoRecibosCaja,this.pagoForm.efectivo=parseFloat(this.pagoForm.monto_venta)-parseFloat(this.pagoForm.importe))}catch(t){alert(t)}},changeImagen:function(){try{var t=document.getElementById("imagen").value,a=document.querySelector(".imagen");if(/(.jpg|.jpeg|.png)$/i.exec(t)){var e=document.getElementById("imagen");e.src=URL.createObjectURL(event.target.files[0]);var o=e.src;a.src=o;var s=document.querySelector("#imagen").files[0].name;document.querySelector("#imagen_txt").textContent=s}else toastr.error("Extensión inválida, formatos admitidos (.jpg . jpeg . png)","Error"),$(".imagen").attr("src",this.imgDefault)}catch(t){}},changeImagen2:function(){try{var t=document.getElementById("imagen2").value,a=document.querySelector(".imagen2");if(/(.jpg|.jpeg|.png)$/i.exec(t)){var e=document.getElementById("imagen2");e.src=URL.createObjectURL(event.target.files[0]);var o=e.src;a.src=o;var s=document.querySelector("#imagen2").files[0].name;document.querySelector("#imagen_txt2").textContent=s}else toastr.error("Extensión inválida, formatos admitidos (.jpg . jpeg . png)","Error"),$(".imagen2").attr("src",this.imgDefault)}catch(t){}},LimpiarImgen:function(){$(".imagen").attr("src",this.imgDefault);$("#imagen_txt").addClass("selected").html("Seleccionar"),$("#imagen").val("")},LimpiarImgen2:function(){$(".imagen2").attr("src",this.imgDefault);$("#imagen_txt2").addClass("selected").html("Seleccionar"),$("#imagen2").val("")},Limpiar:function(){this.LimpiarImgen(),this.LimpiarImgen2(),this.pagoForm={cliente:"",condicion:"",convertir:null,correlativo:0,cotizacion_venta:null,dias:0,efectivo:"",empresa:"",empresa_id:1,estado:"",fecha_documento:"",id:0,notas:0,numero_doc:"",otros:"",serie:"",sunat:"0",tipo_pago:null,tipo_venta:"",tipo_venta_id:"",total:"",transferencia:"",importe:"",venta_id:"",monto_venta:"",tipo_pago_id:""}}},mounted:function(){this.token=$("meta[name=csrf-token]").attr("content")}};var s=e(4486);function i(){var t,a,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",s=e.toStringTag||"@@toStringTag";function n(e,o,s,i){var n=o&&o.prototype instanceof c?o:c,m=Object.create(n.prototype);return r(m,"_invoke",function(e,o,s){var i,r,n,c=0,m=s||[],d=!1,u={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(a,e){return i=a,r=0,n=t,u.n=e,l}};function p(e,o){for(r=e,n=o,a=0;!d&&c&&!s&&a<m.length;a++){var s,i=m[a],p=u.p,v=i[2];e>3?(s=v===o)&&(n=i[(r=i[4])?5:(r=3,3)],i[4]=i[5]=t):i[0]<=p&&((s=e<2&&p<i[1])?(r=0,u.v=o,u.n=i[1]):p<v&&(s=e<3||i[0]>o||o>v)&&(i[4]=e,i[5]=o,u.n=v,r=0))}if(s||e>1)return l;throw d=!0,o}return function(s,m,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===m&&p(m,v),r=m,n=v;(a=r<2?t:n)||!d;){i||(r?r<3?(r>1&&(u.n=-1),p(r,n)):u.n=n:u.v=n);try{if(c=2,i){if(r||(s="next"),a=i[s]){if(!(a=a.call(i,n)))throw TypeError("iterator result is not an object");if(!a.done)return a;n=a.value,r<2&&(r=0)}else 1===r&&(a=i.return)&&a.call(i),r<2&&(n=TypeError("The iterator does not provide a '"+s+"' method"),r=1);i=t}else if((a=(d=u.n<0)?n:e.call(o,u))!==l)break}catch(a){i=t,r=1,n=a}finally{c=1}}return{value:a,done:d}}}(e,s,i),!0),m}var l={};function c(){}function m(){}function d(){}a=Object.getPrototypeOf;var u=[][o]?a(a([][o]())):(r(a={},o,function(){return this}),a),p=d.prototype=c.prototype=Object.create(u);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,r(t,s,"GeneratorFunction")),t.prototype=Object.create(p),t}return m.prototype=d,r(p,"constructor",d),r(d,"constructor",m),m.displayName="GeneratorFunction",r(d,s,"GeneratorFunction"),r(p),r(p,s,"Generator"),r(p,o,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:n,m:v}})()}function r(t,a,e,o){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}r=function(t,a,e,o){if(a)s?s(t,a,{value:e,enumerable:!o,configurable:!o,writable:!o}):t[a]=e;else{var i=function(a,e){r(t,a,function(t){return this._invoke(a,e,t)})};i("next",0),i("throw",1),i("return",2)}},r(t,a,e,o)}function n(t,a,e,o,s,i,r){try{var n=t[i](r),l=n.value}catch(t){return void e(t)}n.done?a(l):Promise.resolve(l).then(o,s)}function l(t){return function(){var a=this,e=arguments;return new Promise(function(o,s){var i=t.apply(a,e);function r(t){n(i,o,s,r,l,"next",t)}function l(t){n(i,o,s,r,l,"throw",t)}r(void 0)})}}const c={name:"ModalVentas",props:{ventasPendientes:[],imgDefault:"",modoPagos:[],cliente_id:null},components:{ModalPagoVue:(0,s.A)(o,function(){var t=this,a=t._self._c;return a("div",{staticClass:"modal inmodal",attrs:{id:"modal_pago",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content animated bounceInRight"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){return a.preventDefault(),t.Limpiar.apply(null,arguments)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),a("h4",{staticClass:"modal-title pago-title"},[t._v(t._s(t.pagoForm.numero_doc)+" - "+t._s(t.cliente_id))]),t._v(" "),a("small",{staticClass:"font-bold pago-subtitle"},[t._v(t._s(t.pagoForm.cliente))])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{attrs:{action:t.RouteStore,id:"pago_venta",method:"POST",enctype:"multipart/form-data"},on:{submit:t.Pagar}},[a("input",{staticClass:"d-none",attrs:{type:"text",name:"_token"},domProps:{value:t.token}}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 br"},[a("div",{staticClass:"form-group d-none"},[a("label",{staticClass:"col-form-label required"},[t._v("Venta")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pagoForm.venta_id,expression:"pagoForm.venta_id"}],staticClass:"form-control",attrs:{type:"text",id:"venta_id",name:"venta_id",readonly:""},domProps:{value:t.pagoForm.venta_id},on:{input:function(a){a.target.composing||t.$set(t.pagoForm,"venta_id",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group d-none"},[a("label",{staticClass:"col-form-label required"},[t._v("Tipo Pago")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pagoForm.tipo_pago_id,expression:"pagoForm.tipo_pago_id"}],staticClass:"form-control",attrs:{type:"text",id:"tipo_pago_id",name:"tipo_pago_id",readonly:""},domProps:{value:t.pagoForm.tipo_pago_id},on:{input:function(a){a.target.composing||t.$set(t.pagoForm,"tipo_pago_id",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-4"},[a("label",{staticClass:"col-form-label"},[t._v("Saldo del cliente")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saldoRecibosCaja,expression:"saldoRecibosCaja"}],staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:t.saldoRecibosCaja},on:{input:function(a){a.target.composing||(t.saldoRecibosCaja=a.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-3",class:{"d-none":!t.mostrarRecibosCaja},staticStyle:{display:"flex","align-items":"flex-end","justify-content":"flex-end"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.verRecibosCaja}},[t._v("\n                                        "+t._s(t.txtBtnVerRecibos)+"\n                                    ")])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label required"},[t._v("Monto")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pagoForm.monto_venta,expression:"pagoForm.monto_venta"}],staticClass:"form-control",attrs:{type:"text",id:"monto_venta",name:"monto_venta",readonly:""},domProps:{value:t.pagoForm.monto_venta},on:{input:function(a){a.target.composing||t.$set(t.pagoForm,"monto_venta",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label required"},[t._v("Efectivo")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pagoForm.efectivo,expression:"pagoForm.efectivo"}],staticClass:"form-control",attrs:{type:"text",id:"efectivo",name:"efectivo",readonly:"EFECTIVO"==t.ModoPagos},domProps:{value:t.pagoForm.efectivo},on:{input:[function(a){a.target.composing||t.$set(t.pagoForm,"efectivo",a.target.value)},function(a){return t.changeEfectivo(a.target.value)}]}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label required"},[t._v("Modo de pago")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.modo_pago,expression:"modo_pago"}],staticClass:"custom-select",attrs:{name:"modo_pago",id:"modo_pago"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.modo_pago=a.target.multiple?e:e[0]},function(a){return t.changeModoPago()}]}},t._l(t.modoPagosFiltrados,function(e,o){return a("option",{key:o,domProps:{value:e.id+"-"+e.descripcion}},[t._v(t._s(e.descripcion))])}),0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label required"},[t._v("Importe")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pagoForm.importe,expression:"pagoForm.importe"}],staticClass:"form-control",attrs:{type:"text",id:"importe",name:"importe",readonly:"EFECTIVO"==t.ModoPagos},domProps:{value:t.pagoForm.importe},on:{input:[function(a){a.target.composing||t.$set(t.pagoForm,"importe",a.target.value)},function(a){return t.changeImporte(a.target.value)}]}})]),t._v(" "),"TRANSFERENCIA"==t.ModoPagos?a("div",{staticClass:"form-group",attrs:{id:"div_cuentas"}},[a("label",{staticClass:"col-form-label"},[t._v("Cuentas")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.cuentaId,expression:"cuentaId"}],staticClass:"select2_form custom-select",attrs:{name:"cuenta_id",id:"cuenta_id"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.cuentaId=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:""}},[t._v("Seleccionar")]),t._v(" "),t._l(t.cuentas,function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(t._s(e.descripcion)+" - "+t._s(e.num_cuenta))])})],2)]):t._e()]),t._v(" "),a("div",{staticClass:"col-12 col-md-6 col-imagenes-pago",class:{"d-none":!t.mostrarColImgPago}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{id:"imagen_label"}},[t._v("Imagen:")]),t._v(" "),a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{id:"imagen",type:"file",name:"imagen",accept:"image/*"},on:{change:function(a){return t.changeImagen()}}}),t._v(" "),a("label",{staticClass:"custom-file-label selected",attrs:{for:"imagen",id:"imagen_txt"}},[t._v("Seleccionar")]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{id:"imagen2",type:"file",name:"imagen2",accept:"image/*"},on:{change:t.changeImagen2}}),t._v(" "),a("label",{staticClass:"custom-file-label selected",attrs:{for:"imagen2",id:"imagen_txt2"}},[t._v("Seleccionar")]),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"form-group row justify-content-center"},[a("div",{staticClass:"col-6 align-content-center"},[a("div",{staticClass:"row justify-content-end"},[a("a",{attrs:{href:"javascript:void(0);",id:"limpiar_imagen"},on:{click:function(a){return a.preventDefault(),t.LimpiarImgen.apply(null,arguments)}}},[a("span",{staticClass:"badge badge-danger"},[t._v("x")])])]),t._v(" "),a("div",{staticClass:"row justify-content-center"},[a("p",[a("img",{staticClass:"imagen modalPago",attrs:{src:t.imgDefault,alt:""}}),t._v(" "),a("input",{attrs:{id:"url_imagen",name:"url_imagen",type:"hidden",value:""}})])])]),t._v(" "),a("div",{staticClass:"col-6 align-content-center"},[a("div",{staticClass:"row justify-content-end"},[a("a",{attrs:{href:"javascript:void(0);",id:"limpiar_imagen2"},on:{click:function(a){return a.preventDefault(),t.LimpiarImgen2.apply(null,arguments)}}},[a("span",{staticClass:"badge badge-danger"},[t._v("x")])])]),t._v(" "),a("div",{staticClass:"row justify-content-center"},[a("p",[a("img",{staticClass:"imagen2 modalPago",attrs:{width:"200px",height:"200px",src:t.imgDefault,alt:""}}),t._v(" "),a("input",{attrs:{id:"url_imagen2",name:"url_imagen2",type:"hidden",value:""}})])])])])]),t._v(" "),a("div",{staticClass:"col-12 col-md-6 col-recibos-cliente",class:{"d-none":!t.mostrarColRecibosCliente}},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-hover"},[t._m(2),t._v(" "),a("tbody",t._l(t.recibos_caja,function(e,o){return a("tr",{key:o},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.created_at))]),t._v(" "),a("td",[t._v(t._s(e.user_nombre))]),t._v(" "),a("td",[t._v(t._s(e.metodo_pago))]),t._v(" "),a("td",[t._v(t._s(e.monto))]),t._v(" "),a("td",[t._v(t._s(e.saldo))]),t._v(" "),a("td",[t._v(t._s(e.estado_servicio))])])}),0)])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[t._m(3),t._v(" "),a("div",{staticClass:"col-md-6 text-right"},[t._m(4),t._v(" "),a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){return a.preventDefault(),t.Limpiar.apply(null,arguments)}}},[a("i",{staticClass:"fa fa-times"}),t._v(" Cancelar")])])])])])])},[function(){var t=this._self._c;return t("div",{staticClass:"invalid-feedback"},[t("b",[t("span",{attrs:{id:"error-imagen"}})])])},function(){var t=this._self._c;return t("div",{staticClass:"invalid-feedback"},[t("b",[t("span",{attrs:{id:"error-imagen"}})])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("FECHA")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("USUARIO")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("MET PAGO")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("MONTO")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("SALDO")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("ESTADO")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-md-6 text-left"},[a("i",{staticClass:"fa fa-exclamation-circle leyenda-required"}),t._v(" "),a("small",{staticClass:"leyenda-required"},[t._v("Los\n                        campos marcados con asterisco ("),a("label",{staticClass:"required"}),t._v(") son obligatorios.")])])},function(){var t=this._self._c;return t("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit",form:"pago_venta"}},[t("i",{staticClass:"fa fa-save"}),this._v(" Guardar")])}],!1,null,null,null).exports},data:function(){return{saldoRecibosCaja:0,recibos_caja:[],cuentas:[],formPago:null,loading:!1}},methods:{Pagar:function(t){var a,e,o=this,s=this;s.formPago=null,Swal.fire({title:"Cargando...",icon:"info",customClass:{container:"my-swal"},timer:10,allowOutsideClick:!1,didOpen:(e=l(i().m(function e(){return i().w(function(e){for(;;)switch(e.n){case 0:return Swal.showLoading(),Swal.stopTimer(),e.n=1,o.getCuentas(t.empresa_id);case 1:if(!e.v){e.n=3;break}return e.n=2,o.getRecibosCaja(o.cliente_id);case 2:e.v&&(s.formPago=t,$("#modal_pago").modal("show"),a=0,Swal.resumeTimer());case 3:return e.a(2)}},e)})),function(){return e.apply(this,arguments)}),willClose:function(){clearInterval(a)}})},getCuentas:function(t){var a=this;return l(i().m(function e(){var o,s;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,axios.post(route("ventas.documento.getCuentas"),{empresa_id:t});case 1:if(!(o=e.v).data.success){e.n=2;break}return a.cuentas=o.data.cuentas,e.a(2,!0);case 2:return toastr.error("ERROR AL OBTENER LAS CUENTAS BANCARIAS DE LA EMPRESA","ERROR EN EL SERVIDOR"),e.a(2,!1);case 3:e.n=5;break;case 4:return e.p=4,s=e.v,toastr.error(s,"ERROR EN EL SERVIDOR AL OBTENER CUENTAS BANCARIAS DE LA EMPRESA"),e.a(2,!1);case 5:return e.a(2)}},e,null,[[0,4]])}))()},getRecibosCaja:function(t){var a=this;return l(i().m(function e(){var o,s;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,a.saldoRecibosCaja=0,e.n=1,axios.get(route("ventas.documento.getRecibosCaja",t));case 1:if(!(o=e.v).data.success){e.n=2;break}return a.recibos_caja=o.data.recibos_caja,a.recibos_caja.forEach(function(t){a.saldoRecibosCaja+=parseFloat(t.saldo)}),e.a(2,!0);case 2:return toastr.error(o.data.exception,o.data.message),e.a(2,!1);case 3:e.n=5;break;case 4:return e.p=4,s=e.v,toastr.error(s,"ERROR EN EL SERVIDOR AL OBTENER RECIBOS DE CAJA"),e.a(2,!1);case 5:return e.a(2)}},e,null,[[0,4]])}))()}}};const m=(0,s.A)(c,function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"modal inmodal",attrs:{id:"modal_ventas",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content animated bounceInRight"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-ventaPendientes table-striped table-bordered table-hover table-sm"},[t._m(1),t._v(" "),a("tbody",t._l(t.ventasPendientes,function(e,o){return a("tr",{key:o},[a("td",{staticClass:"text-center letrapequeña"},[t._v(t._s(e.tipo_venta))]),t._v(" "),a("td",{staticClass:"text-center letrapequeña"},[t._v(t._s(e.numero_doc))]),t._v(" "),a("td",{staticClass:"text-center letrapequeña"},[t._v(t._s(e.fecha_documento))]),t._v(" "),a("td",{staticClass:"text-center letrapequeña"},[t._v(t._s(e.total))]),t._v(" "),a("td",{staticClass:"text-center letrapequeña"},["CONTADO"==e.condicion&&"PENDIENTE"==e.estado&&"129"==e.tipo_venta_id?[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",title:"Pagar"},on:{click:function(a){return a.preventDefault(),t.Pagar(e)}}},[a("i",{staticClass:"fa fa-money"}),t._v(" Pagar")])]:t._e(),t._v(" "),"CONTADO"!=e.condicion||"PENDIENTE"!=e.estado||129==e.tipo_venta_id||""!=e.convertir&&null!=e.convertir?t._e():[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",title:"Pagar"},on:{click:function(a){return a.preventDefault(),t.Pagar(e)}}},[a("i",{staticClass:"fa fa-money"}),t._v(" Pagar")])]],2)])}),0)])])])])]),t._v(" "),t._m(2)])])]),t._v(" "),a("ModalPagoVue",{attrs:{modoPagos:t.modoPagos,imgDefault:t.imgDefault,cuentas:t.cuentas,pagos:t.formPago,cliente_id:t.cliente_id,recibos_caja:t.recibos_caja,saldoRecibosCaja:t.saldoRecibosCaja}})],1)},[function(){var t=this,a=t._self._c;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("VENTAS PENDIENTES DE PAGO ")]),t._v(" "),a("small",{staticClass:"font-bold ventas-title"})])},function(){var t=this,a=t._self._c;return a("thead",[a("th",{staticClass:"text-center letrapequeña"},[t._v("TIPO DOC")]),t._v(" "),a("th",{staticClass:"text-center letrapequeña"},[t._v("# DOC")]),t._v(" "),a("th",{staticClass:"text-center letrapequeña"},[t._v("FECHA DOC")]),t._v(" "),a("th",{staticClass:"text-center letrapequeña"},[t._v("MONTO")]),t._v(" "),a("th",{staticClass:"text-center letrapequeña"},[a("i",{staticClass:"fa fa-dashboard"})])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"col-md-6 text-left"}),t._v(" "),a("div",{staticClass:"col-md-6 text-right"},[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button","data-dismiss":"modal"}},[a("i",{staticClass:"fa fa-times"}),t._v(" Cancelar")])])])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=553.js.map