/*! For license information please see 441.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[441],{7113:(e,t,o)=>{o.d(t,{A:()=>s});var i=o(4991),n=o.n(i),a=o(6314),r=o.n(a)()(n());r.push([e.id,'div.content_cliente{position:relative}div.content_cliente.sk__loading:after{background-color:hsla(0,0%,100%,.7);bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3000}.content_cliente.sk__loading>.sk-spinner.sk-spinner-wave{font-size:10px;height:30px;margin:0 auto;text-align:center;width:50px}.content_cliente.sk__loading>.sk-spinner{display:block;left:0;position:absolute;right:0;top:40%;z-index:3500}.content_cliente .sk-spinner.sk-spinner-wave.hide-cliente{display:none}',"",{version:3,sources:["webpack://./resources/js/components/ventas/ModalEnvio.vue"],names:[],mappings:"AACA,oBACI,iBAAJ,CAGA,sCAEI,mCAAA,CAKA,QAAA,CANA,UAAA,CAIA,MAAA,CAFA,iBAAA,CAGA,OAAA,CAFA,KAAA,CAIA,YAAJ,CAGA,yDAKI,cAAA,CAFA,WAAA,CAFA,aAAA,CAGA,iBAAA,CAFA,UAGJ,CAGA,yCACI,aAAA,CAGA,MAAA,CAFA,iBAAA,CAGA,OAAA,CAFA,OAAA,CAGA,YAAJ,CAGA,0DACI,YAAJ",sourcesContent:["\r\ndiv.content_cliente {\r\n    position: relative;\r\n}\r\n\r\ndiv.content_cliente.sk__loading::after {\r\n    content: '';\r\n    background-color: rgba(255, 255, 255, 0.7);\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 3000;\r\n}\r\n\r\n.content_cliente.sk__loading>.sk-spinner.sk-spinner-wave {\r\n    margin: 0 auto;\r\n    width: 50px;\r\n    height: 30px;\r\n    text-align: center;\r\n    font-size: 10px;\r\n}\r\n\r\n.content_cliente.sk__loading>.sk-spinner {\r\n    display: block;\r\n    position: absolute;\r\n    top: 40%;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 3500;\r\n}\r\n\r\n.content_cliente .sk-spinner.sk-spinner-wave.hide-cliente {\r\n    display: none;\r\n}\r\n"],sourceRoot:""}]);const s=r},8441:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});function i(){var e,t,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.toStringTag||"@@toStringTag";function s(o,i,a,r){var s=i&&i.prototype instanceof d?i:d,l=Object.create(s.prototype);return n(l,"_invoke",function(o,i,n){var a,r,s,d=0,l=n||[],u=!1,v={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,o){return a=t,r=0,s=e,v.n=o,c}};function p(o,i){for(r=o,s=i,t=0;!u&&d&&!n&&t<l.length;t++){var n,a=l[t],p=v.p,m=a[2];o>3?(n=m===i)&&(s=a[(r=a[4])?5:(r=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=o<2&&p<a[1])?(r=0,v.v=i,v.n=a[1]):p<m&&(n=o<3||a[0]>i||i>m)&&(a[4]=o,a[5]=i,v.n=m,r=0))}if(n||o>1)return c;throw u=!0,i}return function(n,l,m){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&p(l,m),r=l,s=m;(t=r<2?e:s)||!u;){a||(r?r<3?(r>1&&(v.n=-1),p(r,s)):v.n=s:v.v=s);try{if(d=2,a){if(r||(n="next"),t=a[n]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,r<2&&(r=0)}else 1===r&&(t=a.return)&&t.call(a),r<2&&(s=TypeError("The iterator does not provide a '"+n+"' method"),r=1);a=e}else if((t=(u=v.n<0)?s:o.call(i,v))!==c)break}catch(t){a=e,r=1,s=t}finally{d=1}}return{value:t,done:u}}}(o,a,r),!0),l}var c={};function d(){}function l(){}function u(){}t=Object.getPrototypeOf;var v=[][a]?t(t([][a]())):(n(t={},a,function(){return this}),t),p=u.prototype=d.prototype=Object.create(v);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,n(e,r,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=u,n(p,"constructor",u),n(u,"constructor",l),l.displayName="GeneratorFunction",n(u,r,"GeneratorFunction"),n(p),n(p,r,"Generator"),n(p,a,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:s,m}})()}function n(e,t,o,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}n=function(e,t,o,i){if(t)a?a(e,t,{value:o,enumerable:!i,configurable:!i,writable:!i}):e[t]=o;else{var r=function(t,o){n(e,t,function(e){return this._invoke(t,o,e)})};r("next",0),r("throw",1),r("return",2)}},n(e,t,o,i)}function a(e,t,o,i,n,a,r){try{var s=e[a](r),c=s.value}catch(e){return void o(e)}s.done?t(c):Promise.resolve(c).then(i,n)}function r(e){return function(){var t=this,o=arguments;return new Promise(function(i,n){var r=e.apply(t,o);function s(e){a(r,i,n,s,c,"next",e)}function c(e){a(r,i,n,s,c,"throw",e)}s(void 0)})}}const s={name:"ModalEnvio",props:["cliente"],data:function(){return{tipoDocumentos:[],despacho:null,mode:"create",loading:!1,direccion_entrega:"",entrega_domicilio:!1,tipos_pago_envio:[],tipo_pago_envio:{id:0,descripcion:"SELECCIONAR"},mostrar_combo_sedes:!0,mostrar_entrega_domicilio:!0,origenes_ventas:[],empresas_envio:[],sedes_envio:[],tipos_envios:[],Departamentos:[],Provincias:[],Distritos:[],origen_venta:{descripcion:"SELECCIONAR"},fecha_envio:"",obs_rotulo:"",obs_despacho:"",destinatario:{tipo_documento:"SELECCIONAR",nro_documento:"",nombres:""},departamento:{id:0,nombre:"SELECCIONAR",zona:""},provincia:{id:0,text:"SELECCIONAR"},distrito:{id:0,text:"SELECCIONAR"},tipo_envio:{id:187,descripcion:"AGENCIA"},empresa_envio:{id:0,empresa:"SELECCIONAR"},sede_envio:{id:0,empresa_envio_id:0,direccion:"SELECCIONAR"},formEnvio:{departamento:{},provincia:{},distrito:{},tipo_envio:{},empresa_envio:{},sede_envio:{},destinatario:{}},entidad:"Entidad",dataDNI:{apellido_materno:"",apellido_paterno:"",codigo_verificacion:0,departamento:"",direccion:"0",direccion_completa:"",distrito:"",nombre_completo:"",nombres:"",numero:"",provincia:"",ubigeo:[],ubigeo_reniec:"",ubigeo_sunat:"",buscado:!1},dataRUC:{anexos:[],condicion:"",departamento:"",direccion:"",direccion_completa:"",distrito:"",es_agente_de_retencion:null,estado:"",nombre_o_razon_social:"",provincia:"",ruc:"",ubigeo:[],ubigeo_sunat:"",buscado:!1},loadingProvincias:!1,loadingDistritos:!1,maxlength:8}},computed:{maxLengthDocumento:function(){return"DNI"===this.destinatario.tipo_documento&&this.destinatario.nro_documento.length>8&&(this.destinatario.nro_documento=""),"DNI"===this.destinatario.tipo_documento?8:20}},watch:{fecha_envio:function(e){0==e.length&&this.setFechaEnvioDefault()},entrega_domicilio:function(e){e||(this.direccion_entrega="")},cliente:function(e){var t=this;return r(i().m(function o(){return i().w(function(o){for(;;)switch(o.n){case 0:console.log(e),t.destinatario.nro_documento="",t.destinatario.nombres="","DNI"!==e.tipo_documento&&"CARNET EXT."!==e.tipo_documento||(t.destinatario.tipo_documento=e.tipo_documento,"99999999"!==e.documento&&(t.destinatario.nro_documento=e.documento,t.destinatario.nombres=e.nombre));case 1:return o.a(2)}},o)}))()},empresa_envio:function(e){if(this.sede_envio={id:0,empresa_envio_id:0,direccion:"SELECCIONAR"},e||(this.empresa_envio={id:0,empresa:"SELECCIONAR"},this.sedes_envio=[]),e&&0!==e.id){"DELIVERY"===this.tipo_envio.descripcion&&(this.sede_envio={id:0,empresa_envio_id:0,direccion:e.empresa});var t=JSON.stringify([this.departamento,this.provincia,this.distrito]);this.getSedesEnvio(e.id,t)}},tipo_envio:function(e){this.empresa_envio={id:0,empresa:"SELECCIONAR"},this.sede_envio={id:0,empresa_envio_id:0,direccion:"SELECCIONAR"},this.sedes_envio=[],e&&("AGENCIA"===e.descripcion&&(this.mostrar_combo_sedes=!0,this.mostrar_entrega_domicilio=!0),"DELIVERY"===e.descripcion&&(this.mostrar_combo_sedes=!1,this.mostrar_entrega_domicilio=!0,this.entrega_domicilio=!0),"RECOJO EN TIENDA"===e.descripcion&&(this.mostrar_combo_sedes=!0,this.mostrar_entrega_domicilio=!1,this.entrega_domicilio=!1),this.getEmpresasEnvio(e.descripcion))},tipoClientes:function(e){this.tipo_cliente_id=e.length>0?e[0].id:""},Departamentos:function(){this.departamento={id:13,nombre:"LA LIBERTAD",zona:"NORTE"}},Provincias:function(e){var t=this;if(this.despacho){var o=e.filter(function(e){return e.text===t.despacho.provincia});this.provincia=o[0]}else this.provincia=e.length>0?e[0]:null},Distritos:function(e){var t=this;if(this.despacho){var o=e.filter(function(e){return e.text===t.despacho.distrito});this.distrito=o[0],console.log("UBIGEO COMPLETADO"),this.$emit("ubigeoCompletado")}else this.distrito=e.length>0?e[0]:null},departamento:function(e){e&&(this.empresa_envio={id:0,empresa:"SELECCIONAR"},this.sedes_envio=[],this.sede_envio={id:0,empresa_envio_id:0,direccion:"SELECCIONAR"},this.$nextTick(this.getProvincias))},provincia:function(e){e&&(this.empresa_envio={id:0,empresa:"SELECCIONAR"},this.sede_envio={id:0,empresa_envio_id:0,direccion:"SELECCIONAR"},this.$nextTick(this.getDistritos))},distrito:function(e){this.empresa_envio={id:0,empresa:"SELECCIONAR"},this.sedes_envio=[],this.sede_envio={id:0,empresa_envio_id:0,direccion:"SELECCIONAR"}},tipo_documento:function(e){e&&(this.formCliente.tipo_documento=e,this.formCliente.activo="SIN VERIFICAR",this.entidad="DNI"==e?"Reniec":"RUC"==e?"Sunat":"Entidad",this.maxlength="DNI"==e?8:"RUC"==e?11:20)},tipo_cliente_id:function(e){this.formCliente.tipo_cliente_id=e},loadingProvincias:function(e){var t=this;if(this.dataDNI.buscado&&e){var o=this.dataDNI.ubigeo.length>0?this.dataDNI.ubigeo[1]:0;this.Provincias.forEach(function(e){Number(e.id)==Number(o)&&(t.provincia=e)})}if(this.dataRUC.buscado&&e){var i=this.dataRUC.ubigeo.length>0?this.dataRUC.ubigeo[1]:0;this.Provincias.forEach(function(e){Number(e.id)==Number(i)&&(t.provincia=e)})}},loadingDistritos:function(e){var t=this;if(this.dataDNI.buscado&&e){var o=this.dataDNI.ubigeo.length>0?this.dataDNI.ubigeo[2]:0;this.Distritos.forEach(function(e){Number(e.id)==Number(o)&&(t.distrito=e)})}if(this.dataRUC.buscado&&e){var i=this.dataRUC.ubigeo.length>0?this.dataRUC.ubigeo[2]:0;this.Distritos.forEach(function(e){Number(e.id)==Number(i)&&(t.distrito=e)})}this.loadingProvincias=!1,this.loadingDistritos=!1,this.dataDNI.buscado=!1,this.dataRUC.buscado=!1},dataDNI:function(e){var t=this;if(e.buscado){var o=e.ubigeo.length>0?e.ubigeo[0]:0;this.Departamentos.forEach(function(e){Number(e.id)==Number(o)&&(t.departamento=e)}),this.formCliente.codigo_verificacion="-"==this.dataDNI.codigo_verificacion||null===this.dataDNI.codigo_verificacion?"":this.dataDNI.codigo_verificacion,this.formCliente.nombre=this.dataDNI.nombres+" "+this.dataDNI.apellido_paterno+" "+this.dataDNI.apellido_materno,this.formCliente.direccion=this.dataDNI.direccion_completa,this.formCliente.activo="ACTIVO"}},dataRUC:function(e){var t=this;if(e.buscado){var o=e.ubigeo.length>0?e.ubigeo[0]:0;this.Departamentos.forEach(function(e){Number(e.id)==Number(o)&&(t.departamento=e)}),this.formCliente.codigo_verificacion="",this.formCliente.nombre=this.dataRUC.nombre_o_razon_social,this.formCliente.direccion=this.dataRUC.direccion,this.formCliente.activo="ACTIVO"}}},created:function(){var e=this;return r(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return e.loading=!0,t.n=1,e.setFechaEnvioDefault();case 1:return t.n=2,e.getDepartamentos();case 2:return t.n=3,e.getTipoEnvios();case 3:return t.n=4,e.getTipoDocumento();case 4:return t.n=5,e.getTiposPagoEnvio();case 5:return t.n=6,e.getOrigenesVentas();case 6:return t.n=7,e.getEmpresasEnvio(e.tipo_envio.descripcion);case 7:e.loading=!1;case 8:return t.a(2)}},t)}))()},methods:{metodoHijo:function(e,t){var o=this;return r(i().m(function n(){var a,r,s,c,d,l,u;return i().w(function(i){for(;;)switch(i.n){case 0:if(o.loading=!0,o.formEnvio.documento_id=t,0!=e.length){i.n=1;break}return toastr.warning("PODRÁ CREAR DATOS DE DESPACHO","EL DOCUMENTO NO TIENE DATOS DE DESPACHO"),i.a(2);case 1:if(o.mode="edit",o.departamento={},console.log("----"),o.despacho=e[0],1!=e.length){i.n=5;break}return a=e[0].departamento,1===(r=o.Departamentos.filter(function(e){return e.nombre===a})).length&&(console.log("COLOCANDO UBIGEO"),o.departamento=r[0]),i.n=2,Promise.all([new Promise(function(e){o.$once("ubigeoCompletado",e)})]);case 2:return console.log("COLOCANDO TIPO PAGO ENVÍO"),1===(s=o.tipos_pago_envio.filter(function(t){return t.descripcion===e[0].tipo_pago_envio})).length&&(o.tipo_pago_envio=s[0]),console.log("COLOCANDO TIPO ENVÍO Y CARGANDO EMPRESAS ENVÍO"),o.tipo_envio={},1===(c=o.tipos_envios.filter(function(t){return t.descripcion===e[0].tipo_envio})).length&&(o.tipo_envio=c[0]),i.n=3,Promise.all([new Promise(function(e){o.$once("tipoEnvioColocadoEmpresasEnvioCargadas",e)})]);case 3:return console.log("COLOCANDO EMPRESA ENVÍO Y CARGANDO SEDES ENVÍO"),1===(d=o.empresas_envio.filter(function(e){return e.empresa===o.despacho.empresa_envio_nombre})).length&&(o.empresa_envio=d[0]),i.n=4,Promise.all([new Promise(function(e){o.$once("empresasColocadasSedesCargadas",e)})]);case 4:console.log("COLOCANDO SEDE ENVÍO"),1===(l=o.sedes_envio.filter(function(e){return e.direccion===o.despacho.sede_envio_nombre})).length&&(o.sede_envio=l[0]),console.log("SEDE ENVÍO COLOCADA"),"SI"===o.despacho.entrega_domicilio&&(o.entrega_domicilio=!0,o.direccion_entrega=o.despacho.direccion_entrega),"NO"===o.despacho.entrega_domicilio&&(o.entrega_domicilio=!1,o.direccion_entrega=""),o.origen_venta={descripcion:o.despacho.origen_venta},o.fecha_envio="",o.fecha_envio=o.despacho.fecha_envio_propuesta,o.obs_rotulo="",o.obs_rotulo=o.despacho.obs_rotulo,o.obs_despacho="",o.obs_despacho=o.despacho.obs_despacho,u=o.tipoDocumentos.filter(function(e){return e===o.despacho.destinatario_tipo_doc}),o.destinatario.tipo_documento=u[0],o.destinatario.nro_documento=o.despacho.destinatario_nro_doc,o.destinatario.nombres=o.despacho.destinatario_nombre,o.despacho=null,o.loading=!1;case 5:return i.a(2)}},n)}))()},borrarEnvio:function(){this.formEnvio={},this.destinatario={dni:"",nombres:""},this.empresa_envio={id:0,empresa:"SELECCIONAR"},this.sede_envio={id:0,empresa_envio_id:0,direccion:"SELECCIONAR"},this.observaciones="",this.sedes=[],this.$emit("addDataEnvio",JSON.stringify(this.formEnvio)),$("#modal_envio").modal("hide"),toastr.success("ENVÍO BORRADO","OPERACIÓN COMPLETADA")},setFechaEnvioDefault:function(){var e=new Date,t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");this.fecha_envio="".concat(t,"-").concat(o,"-").concat(i)},Guardar:function(){var e=this;return r(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:if("SELECCIONAR"!==e.empresa_envio.empresa){t.n=1;break}return toastr.error("SELECCIONE UNA EMPRESA DE ENVÍO","ERROR"),t.a(2);case 1:if("SELECCIONAR"!==e.sede_envio.direccion){t.n=2;break}return toastr.error("SELECCIONE UNA SEDE DE ENVÍO","ERROR"),t.a(2);case 2:if(!(e.destinatario.nro_documento.length<8)){t.n=3;break}return toastr.error("INGRESE UN DNI VÁLIDO PARA EL DESTINATARIO","ERROR"),t.a(2);case 3:if(0!=e.destinatario.nombres.length){t.n=4;break}return toastr.error("DEBE INGRESAR EL NOMBRE DEL DESTINATARIO","ERROR"),t.a(2);case 4:e.formEnvio.departamento=e.departamento,e.formEnvio.provincia=e.provincia,e.formEnvio.distrito=e.distrito,e.formEnvio.tipo_envio=e.tipo_envio,e.formEnvio.empresa_envio=e.empresa_envio,e.formEnvio.sede_envio=e.sede_envio,e.formEnvio.destinatario=e.destinatario,e.formEnvio.direccion_entrega=e.direccion_entrega,e.formEnvio.entrega_domicilio=e.entrega_domicilio,e.formEnvio.origen_venta=e.origen_venta,e.formEnvio.fecha_envio_propuesta=e.fecha_envio,e.formEnvio.obs_rotulo=e.obs_rotulo,e.formEnvio.obs_despacho=e.obs_despacho,e.formEnvio.tipo_pago_envio=e.tipo_pago_envio,console.log("FORMULARIO ENVIO"),console.log(e.formEnvio),"create"==e.mode&&(e.$emit("addDataEnvio",JSON.stringify(e.formEnvio)),toastr.success("DATOS DE ENVÍO GUARDADOS","OPERACIÓN COMPLETADA")),"edit"==e.mode&&(e.$emit("updateDataEnvio",JSON.stringify(e.formEnvio)),toastr.success("DATOS DE ENVÍO ACTUALIZADOS","OPERACIÓN COMPLETADA")),$("#modal_envio").modal("hide");case 5:return t.a(2)}},t)}))()},getTipoCliente:function(){var e=this;return r(i().m(function t(){var o,n;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.axios.get(route("consulta.ajax.tipoClientes"));case 1:o=t.v,n=o.data,e.tipoClientes=n,t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}))()},getDepartamentos:function(){var e=this;return r(i().m(function t(){var o,n;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.axios.get(route("consulta.ajax.getDepartamentos"));case 1:o=t.v,n=o.data,e.Departamentos=n,t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}))()},getProvincias:function(){var e=this;return r(i().m(function t(){var o,n,a;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e.loading=!0,t.n=1,e.axios.post(route("mantenimiento.ubigeo.provincias"),{departamento_id:e.departamento.id});case 1:o=t.v,n=o.data,n.error,n.message,a=n.provincias,e.Provincias=a,e.loadingProvincias=!0,e.loading=!1,e.despacho&&(e.provincia.text=e.despacho.provincia),t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}))()},getDistritos:function(){var e=this;return r(i().m(function t(){var o,n,a;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e.loading=!0,t.n=1,e.axios.post(route("mantenimiento.ubigeo.distritos"),{provincia_id:e.provincia.id});case 1:o=t.v,n=o.data,n.error,n.message,a=n.distritos,e.Distritos=a,e.loadingDistritos=!0,e.loading=!1,t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}))()},consultarDocumento:function(){var e=this;return r(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:try{e.loading=!0,8===e.destinatario.nro_documento.length?e.consultarAPI():(e.loading=!1,toastr.error("El DNI debe de contar con 8 dígitos","Error"))}catch(e){alert("Error en consultarDocumento"+e)}case 1:return t.a(2)}},t)}))()},consultarAPI:function(){var e=this;return r(i().m(function t(){var o,n,a,r,s;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,o=e.destinatario.nro_documento,n=route("getApidni",{dni:o}),t.n=1,e.axios.get(n);case 1:a=t.v,r=a.data,e.CamposDNI(r),t.n=3;break;case 2:t.p=2,s=t.v,e.loading=!1,alert("Error en consultarAPI"+s);case 3:return t.a(2)}},t,null,[[0,2]])}))()},CamposDNI:function(e){var t=e.success,o=e.data;t&&(this.dataDNI=o,this.dataDNI.buscado=!0,this.destinatario.nombres=o.nombres+" "+o.apellido_paterno+" "+o.apellido_materno,this.loading=!1)},CamposRUC:function(e){var t=e.success,o=e.data;t&&(this.dataRUC=o,this.dataRUC.buscado=!0,this.loading=!1)},getTipoEnvios:function(){var e=this;return r(i().m(function t(){var o,n,a;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.axios.get(route("consulta.ajax.getTipoEnvios"));case 1:o=t.v,n=o.data,e.tipos_envios=n,t.n=3;break;case 2:t.p=2,a=t.v,toastr.error(a.message,"ERROR EN LA SOLICITUD AL OBTENER TIPOS DE ENVÍO");case 3:return t.a(2)}},t,null,[[0,2]])}))()},getEmpresasEnvio:function(e){var t=this;return r(i().m(function o(){var n,a,r;return i().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,t.loading=!0,o.n=1,t.axios.get(route("consulta.ajax.getEmpresasEnvio",e));case 1:n=o.v,(a=n.data).success?(t.empresas_envio=a.empresas_envio,console.log("TIPO ENVÍO COLOCADO Y EMPRESAS ENVÍO CARGADAS"),t.$emit("tipoEnvioColocadoEmpresasEnvioCargadas")):toastr.error("".concat(a.message," - ").concat(a.exception),"ERROR AL OBTENER EMPRESAS DE ENVÍO"),o.n=3;break;case 2:o.p=2,r=o.v,toastr.error(r.message,"ERROR EN LA SOLICITUD OBTENER EMPRESAS ENVÍO");case 3:return o.p=3,t.loading=!1,o.f(3);case 4:return o.a(2)}},o,null,[[0,2,3,4]])}))()},getSedesEnvio:function(e,t){var o=this;return r(i().m(function n(){var a,r,s;return i().w(function(i){for(;;)switch(i.p=i.n){case 0:return i.p=0,o.loading=!0,i.n=1,o.axios.get(route("consulta.ajax.getSedesEnvio",{empresa_envio_id:e,ubigeo:t}));case 1:a=i.v,(r=a.data).success?(o.sedes_envio=r.sedes_envio,console.log(r.sedes_envio),console.log("EMPRESA ENVIO COLOCADA Y SEDES ENVIO CARGADAS"),o.$emit("empresasColocadasSedesCargadas")):toastr.error("".concat(r.message," - ").concat(r.exception),"ERROR AL OBTENER SEDES DE ENVÍO"),i.n=3;break;case 2:i.p=2,s=i.v,toastr.error(s.message,"ERROR EN LA SOLICITUD OBTENER SEDES ENVÍO");case 3:return i.p=3,o.loading=!1,i.f(3);case 4:return i.a(2)}},n,null,[[0,2,3,4]])}))()},getOrigenesVentas:function(){var e=this;return r(i().m(function t(){var o,n,a,r;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e.loading=!0,t.n=1,e.axios.get(route("consulta.ajax.getOrigenesVentas"));case 1:o=t.v,(n=o.data).success?(e.origenes_ventas=n.origenes_ventas,n.origenes_ventas.length>0?(a=n.origenes_ventas.findIndex(function(e){return"WATHSAPP"==e.descripcion}),e.origen_venta=-1!==a?{descripcion:n.origenes_ventas[a].descripcion}:n.origenes_ventas[0].descripcion):(e.origen_venta={descripcion:"SIN DATOS"},toastr.error("REGISTRE ORÍGENES DE VENTA EN TABLAS GENERALES","ERROR AL OBTENER ORÍGENES DE VENTA"))):toastr.error("".concat(n.message," - ").concat(n.exception),"ERROR AL OBTENER ORÍGENES DE VENTA"),t.n=3;break;case 2:t.p=2,r=t.v,toastr.error(r.message,"ERROR EN LA SOLICITUD OBTENER ORÍGENES DE VENTAS");case 3:return t.p=3,e.loading=!1,t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}))()},getTiposPagoEnvio:function(){var e=this;return r(i().m(function t(){var o,n,a;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e.loading=!0,t.n=1,e.axios.get(route("consulta.ajax.getTiposPagoEnvio"));case 1:o=t.v,(n=o.data).success?(e.tipos_pago_envio=n.tipos_pago_envio,n.tipos_pago_envio.length>0?e.tipo_pago_envio={id:e.tipos_pago_envio[0].id,descripcion:e.tipos_pago_envio[0].descripcion}:(e.tipo_pago_envio={id:0,descripcion:"SIN DATOS"},toastr.error("REGISTRE TIPOS DE PAGO ENVÍO EN TABLAS GENERALES","ERROR AL OBTENER TIPOS PAGO ENVÍO"))):toastr.error("".concat(n.message," - ").concat(n.exception),"ERROR AL OBTENER TIPOS PAGO DE ENVÍO"),t.n=3;break;case 2:t.p=2,a=t.v,toastr.error(a.message,"ERROR EN LA SOLICITUD OBTENER TIPO DE PAGOS ENVÍO");case 3:return t.p=3,e.loading=!1,t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}))()},getTipoDocumento:function(){var e=this;return r(i().m(function t(){var o,n,a,r;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.axios.get(route("consulta.ajax.getTipoDocumentos"));case 1:o=t.v,n=o.data,a=[],n.forEach(function(e){6!=e.id&&7!=e.id||a.push(e.simbolo)}),a.length>0&&(e.destinatario.tipo_documento=a[0],e.tipoDocumentos=a),t.n=3;break;case 2:t.p=2,r=t.v,toastr.error(r.message,"ERROR EN LA SOLICITUD AL OBTENER TIPOS DE DOCUMENTO");case 3:return t.a(2)}},t,null,[[0,2]])}))()}}};var c=o(5072),d=o.n(c),l=o(7113),u={insert:"head",singleton:!1};d()(l.A,u);l.A.locals;const v=(0,o(4486).A)(s,function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal inmodal",attrs:{id:"modal_envio",role:"dialog","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog modal-lg"},[t("div",{staticClass:"modal-content animated bounceInRight"},[e._m(0),e._v(" "),t("div",{staticClass:"modal-body content_cliente",class:{sk__loading:e.loading}},[t("form",{staticClass:"formulario",attrs:{id:"frmEnvio"},on:{submit:function(t){return t.preventDefault(),e.Guardar.apply(null,arguments)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-md-12"},[t("div",{staticClass:"row justify-content-between"},[e._m(1),e._v(" "),t("div",{staticClass:"col-6 d-flex justify-content-end"},[t("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.borrarEnvio}},[e._v("BORRAR ENVÍO")])])]),e._v(" "),t("div",{staticClass:"row mt-2"},[t("div",{staticClass:"col-3 col-md-3"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"departamento"}},[e._v("Departamento")]),e._v(" "),t("v-select",{attrs:{options:e.Departamentos,reduce:function(e){return e},required:"",label:"nombre",clearable:!1},model:{value:e.departamento,callback:function(t){e.departamento=t},expression:"departamento"}})],1)]),e._v(" "),t("div",{staticClass:"col-3 col-md-3"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"provincia"}},[e._v("Provincia")]),e._v(" "),t("v-select",{attrs:{options:e.Provincias,reduce:function(e){return e},required:"",label:"text",clearable:!1},model:{value:e.provincia,callback:function(t){e.provincia=t},expression:"provincia"}})],1)]),e._v(" "),t("div",{staticClass:"col-3 col-md-3"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"distrito"}},[e._v("Distrito")]),e._v(" "),t("v-select",{attrs:{options:e.Distritos,reduce:function(e){return e},required:"",label:"text",clearable:!1},model:{value:e.distrito,callback:function(t){e.distrito=t},expression:"distrito"}})],1)]),e._v(" "),t("div",{staticClass:"col-3 col-md-3"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"zona"}},[e._v("Zona")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.departamento.zona,expression:"departamento.zona"}],staticClass:"text-center form-control",attrs:{type:"text",id:"zona",name:"zona",required:"",readonly:""},domProps:{value:e.departamento.zona},on:{input:function(t){t.target.composing||e.$set(e.departamento,"zona",t.target.value)}}})])])]),e._v(" "),t("hr"),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-4"},[t("label",{staticClass:"required",staticStyle:{"font-weight":"bold"},attrs:{for:""}},[e._v("TIPO DE ENVÍO")]),e._v(" "),t("v-select",{attrs:{options:e.tipos_envios,reduce:function(e){return e},required:"",clearable:!1,label:"descripcion"},model:{value:e.tipo_envio,callback:function(t){e.tipo_envio=t},expression:"tipo_envio"}})],1),e._v(" "),t("div",{staticClass:"col-4"},[t("label",{staticClass:"required",staticStyle:{"font-weight":"bold"},attrs:{for:""}},[e._v("TIPO PAGO")]),e._v(" "),t("v-select",{attrs:{options:e.tipos_pago_envio,reduce:function(e){return e},required:"",clearable:!1,label:"descripcion"},model:{value:e.tipo_pago_envio,callback:function(t){e.tipo_pago_envio=t},expression:"tipo_pago_envio"}})],1)]),e._v(" "),t("div",{staticClass:"row mt-4"},[t("div",{staticClass:"col-4"},[t("label",{staticClass:"required",staticStyle:{"font-weight":"bold"},attrs:{for:"vselectEmpresa"}},[e._v("EMPRESAS")]),e._v(" "),t("v-select",{ref:"vselectEmpresa",attrs:{options:e.empresas_envio,reduce:function(e){return e},label:"empresa",id:"vselectEmpresa"},model:{value:e.empresa_envio,callback:function(t){e.empresa_envio=t},expression:"empresa_envio"}})],1),e._v(" "),t("div",{staticClass:"col-6"},[t("label",{staticClass:"required",staticStyle:{"font-weight":"bold"},attrs:{for:""}},[e._v("SEDES")]),e._v(" "),e.mostrar_combo_sedes?t("v-select",{attrs:{required:e.mostrar_combo_sedes,options:e.sedes_envio,reduce:function(e){return e},label:"direccion"},model:{value:e.sede_envio,callback:function(t){e.sede_envio=t},expression:"sede_envio"}}):e._e(),e._v(" "),e.mostrar_combo_sedes?e._e():t("input",{directives:[{name:"model",rawName:"v-model",value:e.sede_envio.direccion,expression:"sede_envio.direccion"}],staticClass:"form-control",attrs:{required:!e.mostrar_combo_sedes,readonly:"",type:"text"},domProps:{value:e.sede_envio.direccion},on:{input:function(t){t.target.composing||e.$set(e.sede_envio,"direccion",t.target.value)}}})],1)]),e._v(" "),e.mostrar_entrega_domicilio?t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-4 d-flex align-items-center"},[t("div",{staticClass:"row",staticStyle:{width:"100%"}},[t("div",{staticClass:"col-2 pr-0 d-flex align-items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.entrega_domicilio,expression:"entrega_domicilio"}],staticClass:"form-control",staticStyle:{width:"50px"},attrs:{id:"check_entrega_domicilio",type:"checkbox"},domProps:{checked:Array.isArray(e.entrega_domicilio)?e._i(e.entrega_domicilio,null)>-1:e.entrega_domicilio},on:{change:function(t){var o=e.entrega_domicilio,i=t.target,n=!!i.checked;if(Array.isArray(o)){var a=e._i(o,null);i.checked?a<0&&(e.entrega_domicilio=o.concat([null])):a>-1&&(e.entrega_domicilio=o.slice(0,a).concat(o.slice(a+1)))}else e.entrega_domicilio=n}}})]),e._v(" "),e._m(2)])]),e._v(" "),t("div",{staticClass:"col-7"},[t("label",{class:{required:e.entrega_domicilio},staticStyle:{"font-weight":"bold"},attrs:{for:""}},[e._v("DIRECCION DE ENTREGA")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.direccion_entrega,expression:"direccion_entrega"}],staticClass:"form-control",attrs:{maxlength:"150",readonly:!e.entrega_domicilio,required:e.entrega_domicilio,type:"text"},domProps:{value:e.direccion_entrega},on:{input:function(t){t.target.composing||(e.direccion_entrega=t.target.value)}}})])]):e._e(),e._v(" "),t("hr"),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-3"},[t("label",{staticStyle:{"font-weight":"bold"},attrs:{for:"origen_venta"}},[e._v("ORIGEN VENTA")]),e._v(" "),t("v-select",{attrs:{options:e.origenes_ventas,reduce:function(e){return e},label:"descripcion",clearable:!1},model:{value:e.origen_venta,callback:function(t){e.origen_venta=t},expression:"origen_venta"}})],1),e._v(" "),t("div",{staticClass:"col-3"},[t("label",{staticStyle:{"font-weight":"bold"},attrs:{for:"fecha_envio"}},[e._v("FECHA ENVÍO")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.fecha_envio,expression:"fecha_envio"}],staticClass:"form-control",attrs:{id:"fecha_envio",type:"date"},domProps:{value:e.fecha_envio},on:{input:function(t){t.target.composing||(e.fecha_envio=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"col-3"},[t("label",{staticStyle:{"font-weight":"bold"},attrs:{for:"obs_rotulo"}},[e._v("OBS RÓTULO")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.obs_rotulo,expression:"obs_rotulo"}],staticClass:"form-control",attrs:{maxlength:"35",id:"obs_rotulo"},domProps:{value:e.obs_rotulo},on:{input:function(t){t.target.composing||(e.obs_rotulo=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"col-3"},[t("label",{staticStyle:{"font-weight":"bold"},attrs:{for:"obs_despacho"}},[e._v("OBS DESPACHO")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.obs_despacho,expression:"obs_despacho"}],staticClass:"form-control",attrs:{id:"obs_despacho"},domProps:{value:e.obs_despacho},on:{input:function(t){t.target.composing||(e.obs_despacho=t.target.value)}}})])]),e._v(" "),t("hr"),e._v(" "),t("label",{staticStyle:{"font-weight":"bold"},attrs:{for:""}},[e._v("DATOS DEL DESTINATARIO")]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-3"},[t("label",{staticClass:"required",staticStyle:{"font-weight":"bold"},attrs:{for:"origen_venta"}},[e._v("TIPO DOC")]),e._v(" "),t("v-select",{attrs:{options:e.tipoDocumentos,reduce:function(e){return e},label:"",clearable:!1},model:{value:e.destinatario.tipo_documento,callback:function(t){e.$set(e.destinatario,"tipo_documento",t)},expression:"destinatario.tipo_documento"}})],1),e._v(" "),t("div",{staticClass:"col-4"},[t("label",{staticClass:"required",attrs:{for:"dni_destinatario"}},[e._v("Nro. "+e._s(e.destinatario.tipo_documento))]),e._v(" "),t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.destinatario.nro_documento,expression:"destinatario.nro_documento"}],staticClass:"form-control",attrs:{type:"text",id:"dni_destinatario",maxlength:e.maxLengthDocumento,required:""},domProps:{value:e.destinatario.nro_documento},on:{input:function(t){t.target.composing||e.$set(e.destinatario,"nro_documento",t.target.value)}}}),e._v(" "),t("span",{staticClass:"input-group-append"},["DNI"==e.destinatario.tipo_documento?t("button",{staticClass:"btn btn-primary",staticStyle:{color:"white"},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.consultarDocumento.apply(null,arguments)}}},[t("i",{staticClass:"fa fa-search"}),e._v(" "),t("span",{attrs:{id:"entidad"}},[e._v(" CONSULTAR")])]):e._e()])])]),e._v(" "),t("div",{staticClass:"col-5"},[t("label",{staticClass:"required",attrs:{for:"nombres_destinatario"}},[e._v("Nombres")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.destinatario.nombres,expression:"destinatario.nombres"}],staticClass:"form-control",attrs:{required:"",type:"text",id:"nombres_destinatario"},domProps:{value:e.destinatario.nombres},on:{input:function(t){t.target.composing||e.$set(e.destinatario,"nombres",t.target.value)}}})])])])])]),e._v(" "),t("div",{staticClass:"sk-spinner sk-spinner-wave",class:{"hide-cliente":!e.loading}},[t("div",{staticClass:"sk-rect1"}),e._v(" "),t("div",{staticClass:"sk-rect2"}),e._v(" "),t("div",{staticClass:"sk-rect3"}),e._v(" "),t("div",{staticClass:"sk-rect4"}),e._v(" "),t("div",{staticClass:"sk-rect5"})])]),e._v(" "),e._m(3)])])])},[function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),e._v(" "),t("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),t("i",{staticClass:"fa fa-truck modal-icon"}),e._v(" "),t("h4",{staticClass:"modal-title"},[e._v("DATOS DE ENVÍO")]),e._v(" "),t("small",{staticClass:"font-bold"},[e._v("Registrar")])])},function(){var e=this._self._c;return e("div",{staticClass:"col-6"},[e("label",{staticStyle:{"font-weight":"bold"},attrs:{for:""}},[this._v("UBIGEO")])])},function(){var e=this._self._c;return e("div",{staticClass:"col-9 pl-0"},[e("label",{staticClass:"mb-0",staticStyle:{"font-weight":"bold"},attrs:{for:"check_entrega_domicilio"}},[this._v("ENTREGA EN DOMICILIO")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-footer"},[t("div",{staticClass:"col-md-6 text-left"},[t("i",{staticClass:"fa fa-exclamation-circle leyenda-required"}),e._v(" "),t("small",{staticClass:"leyenda-required"},[e._v("Los\n                        campos\n                        marcados con asterisco (*) son obligatorios.")])]),e._v(" "),t("div",{staticClass:"col-md-6 text-right"},[t("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{color:"white"},attrs:{type:"submit",form:"frmEnvio"}},[t("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),t("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button","data-dismiss":"modal"}},[t("i",{staticClass:"fa fa-times"}),e._v(" Cerrar")])])])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=441.js.map